---
title: 两个等差数列之并按大小重排序的通项公式
date: 2025-10-28
categories: [数学]
tags: [初等数学]
math: true
---
# 多个等差数列之并按大小重排序的通项公式

## 前言
假设我们有两个严格增的等差数列 { $\ a_n $}与 { $\ b_n $}，现在，我们把这两个数列放在一起，并依据从小到大的顺序重新排序得到一个新数列 {$\c_n$}（如果有一个数在两个数列中都出现了，那么它在我们的新数列中就要重复两遍）。  
在这篇文章中，我们得到了 $\{c_n}$ 前n项和的一个通项公式，这看起来是有趣的，不过计算较繁，而且用到了取整这一类的运算。  
公式如下： 
设 $\ a_n = an + \alpha $， $\ b_n = bn + \beta $, 令r为离 $\frac{bn + \beta - \alpha + \frac{b-a}{2} }{a+b} $最近的整数， 则  
$$\ S_n = \frac{a+b}{2} r^2 - (b_n - \beta + \alpha + \frac{b-a}{2} )r + b \frac{n^2 + n}{2} + \beta n $$ 

## 证明
我们的证明思想很简单，就是最优化的思想。我们应该注意到，像我们这样选取 $c_n$ 有一个很好的性质，就是说，它使得 $\sum_{k=1}^{n}{c_k}$ 是其他所有可能选择之中最小的存在，反之，如果另一个重排序后的数列满足这样的性质，那么它就是我们构造的 $c_n$。这样，我们就将原来的问题转化为了一个最小值的问题。

直观的看，这样的性质是十分显然的。因为在我们的选取之中，$c_n$ 就是第 $n$ 小的数。

假设 ${d_n}$ 满足 $\sum_{k=1}^{n}{d_k} = \min{\text{从} {a_n} \text{与} {b_n} \text{中任取 } n \text{ 个数的和}}$，我们来归纳的证明 $d_n = c_n$，并且存在数 $r$ 与 $s$ 使得 $d_n$ 就是所有指标小于等于 $r$ 的 $a_n$ 与指标小于等于 $s$ 的 $b_n$ 的从小到大的重排序：

$n=1$ 时，注意这两个等差数列严格增，这就是 $c_1$ 的定义了。

设 $n=m$ 时该式成立，来证 $n=m+1$ 时也成立。

设对于 $k<m+1$ 的数 $c_n$ 之中有 $r$ 个是从 $a_n$ 中选取的， $s$ 个是从 $b_n$ 中选取的（相等的时候，我们的选取就是任意的，见后）。
现在我们证明 $d_{m+1} = \min{a_{r+1}, b_{s+1}}$（如果 $d_{m+1} = a_{r+1}$ 就说这是从 $a_n$ 中取的，其余情况称在 $b_n$ 中取的）。
否则，不妨设 $d_{m+1} = a_p$，则易知有 $p>r$，于是 $a_p > a_r$ ，从而就有 $\sum_{k=1}^{m+1}{d_k} > \sum_{k=1}^{m}{d_k} + a_r$，这与 $d_n$ 的定义矛盾。现在我们不妨设 $d_{m+1}$ 是从 $a_n$ 中取的，按归纳，有 $d_n = c_n$ 对 $n<m+1$ 成立，由 $c_n$ 的定义，
必有 $c_n \leq d_{m+1}$ 对 $n<m+1$ 成立。现在对于 $a_n$ ，$n>r+1$ ，有 $a_n > d_{m+1}$ ，而对于 $b_n$，$n>s+1$，按定义， $d_{m+1} \leq b_{s+1} \leq b_n$ 成立，故知 $d_{m+1} = c_{m+1}$。证毕。  

当然，我们这里还没有证明存在性，不过这一点是十分容易弥补的，首先令M为前n个 $a_n$ 的和，取N使得 $a_N$ 与 $b_N$ 都大于M，于是我们可以在 $\min{\text{从} {a_i} \text{与} {b_i} \text{中任取 } n \text{ 个数的和}}$ 之中加上一个限制条件：i<N，从而这里只有有
限个这样的数列，从而可以有一个达到最小值，完全可以对这个数列使用我们上面的论证，存在性这一块就被弥补了。  

另一点要说明的是，这里的证明适用于所有满足单增且趋向无穷的数列，即对于这样的数列，仍有重排后的数列=前n项和最小的数列这一性质成立。

现在的任务就十分简单了，我们需要选取r使得 $\sum_{k=1}^{r}{a_k}$ + $\sum_{k=1}^{n-r}{b_k}$ 最小，这是一个二次的极值问题，很简单，只是计算麻烦，作者就不展开了。
